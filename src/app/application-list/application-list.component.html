<h2>Liste des Candidatures</h2>

<table class="table table-bordered">
  <thead class="thead-dark">
    <tr>
      <th>Nom Complet</th>
      <th>Email</th>
      <th>Offre d'Emploi</th>
      <th>Statut</th>
      <th>CV</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let application of applications">
      <td>{{ application.candidate.firstName }} {{ application.candidate.lastName }}</td>
      <td>{{ application.candidate.email }}</td>
      <td>{{ application.jobOffer.title }}</td>
      <td>{{ application.status }}</td>
      <td>
        <button
          *ngIf="application.resume"
          class="btn btn-primary"
          (click)="downloadResume(application.resume, application.candidate.firstName + '_' + application.candidate.lastName)"
        >
          Télécharger CV
        </button>
        <span *ngIf="!application.resume">Pas de CV</span>
      </td>
      <td>
        <button class="btn btn-success" (click)="updateStatus(application.id, 'ACCEPTED')">
          Accepter
        </button>
        <button class="btn btn-danger" (click)="updateStatus(application.id, 'REJECTED')">
          Rejeter
        </button>
      </td>
    </tr>
  </tbody>
</table>
