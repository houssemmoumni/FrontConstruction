<h2>Ajouter une offre d'emploi</h2>
<form (ngSubmit)="onSubmit(jobOfferForm)" #jobOfferForm="ngForm">

  <!-- Champ Titre -->
  <div class="form-group">
    <label for="title">Titre :</label>
    <input type="text" id="title" class="form-control"
           [(ngModel)]="jobOffer.title" name="title" required #title="ngModel">
    <div *ngIf="title.invalid && (title.dirty || title.touched || jobOfferForm.submitted)"
         class="text-danger mt-1">
      ❌ Le titre est requis.
    </div>
  </div>

  <!-- Champ Description -->
  <div class="form-group">
    <label for="description">Description :</label>
    <textarea id="description" class="form-control"
              [(ngModel)]="jobOffer.description" name="description" required #description="ngModel"></textarea>
    <div *ngIf="description.invalid && (description.dirty || description.touched || jobOfferForm.submitted)"
         class="text-danger mt-1">
      ❌ La description est requise.
    </div>
  </div>

  <!-- Champ Statut -->
  <div class="form-group">
    <label for="status">Statut :</label>
    <select id="status" class="form-control" [(ngModel)]="jobOffer.status" name="status" required>
      <option value="OPEN">Ouvert</option>
      <option value="CLOSED">Fermé</option>
    </select>
  </div>

  <!-- Champ Publier (caché si le statut est "CLOSED") -->
  <div class="form-group" *ngIf="jobOffer.status !== 'CLOSED'">
    <label for="publish">Publier :</label>
    <select id="publish" class="form-control" [(ngModel)]="jobOffer.publish" name="publish" required>
      <option [ngValue]="true">Oui</option>
      <option [ngValue]="false">Non</option>
    </select>
  </div>

  <!-- Boutons -->
  <button type="submit" class="btn btn-primary" [disabled]="jobOfferForm.invalid">Soumettre</button>
  <button type="button" class="btn btn-secondary" (click)="router.navigate(['/joboffre'])">Annuler</button>
</form>
