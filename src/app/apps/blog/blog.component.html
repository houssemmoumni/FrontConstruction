
<!-- Breadcrumb -->
<div class="breadcrumb-card mb-25 d-md-flex align-items-center justify-content-between">
    <h5 class="mb-0">Blogs</h5>
    <ol class="breadcrumb list-unstyled mt-0 mb-0 pl-0">
        <li class="breadcrumb-item position-relative">
            <a routerLink="/" class="d-inline-block position-relative">
                <i class="ri-home-8-line"></i> Dashboard
            </a>
        </li>
        <li class="breadcrumb-item position-relative">Communication</li>
        <li class="breadcrumb-item position-relative">Blogs</li>
    </ol>
</div>

<!-- Blogs -->
<mat-card class="daxa-card blog-card mb-25 border-radius bg-white border-none d-block">
    <mat-card-header>
        <mat-card-title>
            <a mat-button class="add-new-btn" routerLink="/add-blog">
                + Ajouter un Blog
            </a>
        </mat-card-title>
        <mat-card-subtitle>
            <form class="search-box position-relative">
                <i class="material-symbols-outlined"> search </i>
                <input type="text" class="input-search d-block w-100 border-none outline-0" placeholder="Rechercher un blog...">
            </form>
        </mat-card-subtitle>
    </mat-card-header>
</mat-card>

<!-- Liste des blogs -->
<div class="row">
    <div class="col-lg-4 col-xxl-3 col-sm-6" *ngFor="let blog of dataSource.data">
        <mat-card class="daxa-card blog-card mb-25 border-radius bg-white border-none d-block">
            <mat-card-header>
                <mat-card-subtitle>
                    <button type="button" mat-button class="card-header-menu-btn p-0" [matMenuTriggerFor]="cardHeaderMenu">
                        <i class="material-symbols-outlined"> more_horiz </i>
                    </button>
                    <mat-menu #cardHeaderMenu="matMenu" class="card-header-menu" xPosition="before">
                        <button mat-menu-item>Voir</button>
                        <button mat-menu-item [routerLink]="['/blogs/edit', blog.id]">Update</button>
                        <button mat-menu-item (click)="deleteBlog(blog.id)">Supprimer</button>
                    </mat-menu>
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <img [src]="blog.photo" class="blog-image rounded" alt="Blog Image">
                <h5 class="mb-0 mt-2">{{ blog.title }}</h5>
                <p class="text-muted">{{ blog.content | slice:0:100 }}...</p>
                <p class="text-muted"> <strong>Date:</strong> {{ blog.date }}</p>

                <div class="ratings" *ngIf="blog.ratings?.length">
                    <span *ngFor="let rating of blog.ratings">
                        <i class="material-symbols-outlined">star</i>
                    </span>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<!-- Pagination -->
<mat-paginator [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
