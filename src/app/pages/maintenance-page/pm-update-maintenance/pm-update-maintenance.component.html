<!-- Breadcrumb -->
<div class="breadcrumb-card mb-25 d-md-flex align-items-center justify-content-between">
    <h5 class="mb-0">Update Maintenance</h5>
    <ol class="breadcrumb list-unstyled mt-0 mb-0 pl-0">
        <li class="breadcrumb-item position-relative">
            <a routerLink="/" class="d-inline-block position-relative">
                <i class="ri-home-8-line"></i> Dashboard
            </a>
        </li>
        <li class="breadcrumb-item position-relative">Maintenance Management</li>
        <li class="breadcrumb-item position-relative">Maintenances</li>
        <li class="breadcrumb-item position-relative">Update Maintenance</li>
    </ol>
</div>

<!-- Update Maintenance -->
<mat-card class="daxa-card update-maintenance-card mb-25 border-radius bg-white border-none d-block">
    <mat-card-header>
        <mat-card-title>
            <h5 class="mb-0">Update Maintenance</h5>
        </mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="maintenanceForm" (ngSubmit)="updateMaintenance()">
            <div class="row">
                <div class="col-sm-6">
                    <mat-form-field>
                        <mat-label>Title</mat-label>
                        <input matInput formControlName="title" placeholder="Enter title">
                        <mat-error *ngIf="maintenanceForm.get('title')?.hasError('required')">
                            Title is required
                        </mat-error>
                        <mat-error *ngIf="maintenanceForm.get('title')?.hasError('minlength')">
                            Title must be at least 3 characters long
                        </mat-error>
                        <mat-error *ngIf="maintenanceForm.get('title')?.hasError('maxlength')">
                            Title cannot be more than 100 characters long
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field>
                        <mat-label>Description</mat-label>
                        <input matInput formControlName="description" placeholder="Enter description">
                        <mat-error *ngIf="maintenanceForm.get('description')?.hasError('required')">
                            Description is required
                        </mat-error>
                        <mat-error *ngIf="maintenanceForm.get('description')?.hasError('minlength')">
                            Description must be at least 3 characters long
                        </mat-error>
                        <mat-error *ngIf="maintenanceForm.get('description')?.hasError('maxlength')">
                            Description cannot be more than 100 characters long
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field>
                        <mat-label>Image</mat-label>
                        <input matInput formControlName="image" placeholder="Enter image URL" readonly>
                        <input type="file" (change)="onFileSelected($event)">
                        <mat-error *ngIf="maintenanceForm.get('image')?.hasError('required')">
                            Image is required
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field>
                        <mat-label>Email</mat-label>
                        <input matInput formControlName="email" placeholder="Enter email">
                        <mat-error *ngIf="maintenanceForm.get('email')?.hasError('required')">
                            Email is required
                        </mat-error>
                        <mat-error *ngIf="maintenanceForm.get('email')?.hasError('email')">
                            Enter a valid email
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field>
                        <mat-label>Contrat</mat-label>
                        <mat-select formControlName="contrat">
                            <mat-option *ngFor="let contrat of contrats" [value]="contrat.id">
                                {{ contrat.id }}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="maintenanceForm.get('contrat')?.hasError('required')">
                            Contrat is required
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field>
                        <mat-label>Status</mat-label>
                        <mat-select formControlName="status">
                            <mat-option *ngFor="let status of statusOptions" [value]="status">
                                {{ status }}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="maintenanceForm.get('status')?.hasError('required')">
                            Status is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <button mat-raised-button color="primary" type="submit">Update Maintenance</button>
        </form>
    </mat-card-content>
</mat-card>