
<!-- Barre de recherche -->

<div class="search-container">
    <mat-form-field appearance="outline" class="search-input">
      <mat-label>Rechercher un cours</mat-label>
      <input
        matInput
        [(ngModel)]="searchQuery"
        (input)="applyFilter()"
        placeholder="Titre, description, instructeur..."
      />
      <!-- <button mat-icon-button matSuffix (click)="clearSearch()">
        <mat-icon>close</mat-icon>
      </button> -->
    </mat-form-field>
  </div>




<div class="courses-table">
    <div class="table-responsive">
        <table mat-table [dataSource]="dataSource">

            <!-- ID Column -->
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef>
                    ID
                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.id}}
                </td>
            </ng-container>

            <!-- Title Column -->
            <ng-container matColumnDef="title">
                <th mat-header-cell *matHeaderCellDef>
                    Title
                </th>
                <td mat-cell *matCellDef="let element" class="fw-medium">
                    <a routerLink="/lms-page/course-details">
                        {{element.title}}
                    </a>
                </td>
            </ng-container>

            <!-- Description Column -->
            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef>
                    Description
                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.description || 'N/A'}}
                </td>
            </ng-container>

            <!-- Duration Column -->
            <ng-container matColumnDef="duration">
                <th mat-header-cell *matHeaderCellDef>
                    Duration (minutes)
                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.duration || 'N/A'}}
                </td>
            </ng-container>

            <!-- Instructor Column -->
            <ng-container matColumnDef="instructor">
                <th mat-header-cell *matHeaderCellDef>
                    Instructor
                </th>
                <td mat-cell *matCellDef="let element" class="text-black">
                    {{element.instructor}}
                </td>
            </ng-container>

        <!-- Status Column -->
<!-- Status Column -->
<ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>
        Status
    </th>
    <td mat-cell *matCellDef="let element">
        <span class="daxa-badge active d-inline-block" *ngIf="element.isPublished === 'true'">
            Published
        </span>
        <span class="daxa-badge deactive d-inline-block" *ngIf="element.isPublished === 'false'">
            Unpublished
        </span>
    </td>
</ng-container>

<!-- Action Column -->
<!-- Action Column -->
<ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef>Action</th>
    <td mat-cell *matCellDef="let element">
      <div class="action-icons">
        <!-- Bouton "View Course" -->
        <button
          [routerLink]="['/lms-page/course-details', element.id]"
          matTooltip="View Course"
          matTooltipPosition="above"
        >
          <mat-icon class="view-icon">visibility</mat-icon>
        </button>

        <!-- Bouton "Edit Course" -->
        <button
          [routerLink]="['/lms-page/edit-course', element.id]"
          matTooltip="Edit Course"
          matTooltipPosition="above"
        >
          <mat-icon class="edit-icon">edit</mat-icon>
        </button>

        <!-- Bouton "Delete" -->
        <button
          (click)="deleteCourse(element.id)"
          matTooltip="Delete"
          matTooltipPosition="above"
        >
          <mat-icon class="delete-icon">delete</mat-icon>
        </button>
      </div>
    </td>
  </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        </table>
    </div>
    <mat-paginator [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
</div>
