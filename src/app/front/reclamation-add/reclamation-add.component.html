<div class="page-wraper">
    <!-- Header -->
    <app-header-light3></app-header-light3>

    <!-- Content -->
    <div class="page-content bg-white">
      <!-- Contact Form -->
      <div class="section-full content-inner contact-page-9 overlay-black-dark" style="background-image: url(assets/images/background/bg5.jpg); background-position: 30% 100%">
        <div class="container">
          <div class="row">
            <!-- Informations de contact -->
            <div class="col-lg-4 col-md-12 text-white">
              <div class="row">
                <div class="col-lg-12 col-md-12 m-b30">
                  <div class="icon-bx-wraper bx-style-1 p-a20 radius-sm">
                    <div class="icon-content">
                      <h5 class="dlab-tilte">
                        <span class="icon-sm text-primary"><i class="ti-location-pin"></i></span>
                        Adresse
                      </h5>
                      <p>007 Dummy Street, City, Country</p>
                      <h6 class="m-b15 text-black font-weight-400"><i class="ti-alarm-clock"></i> Heures de bureau</h6>
                      <p class="m-b0">Lundi à Samedi - 10h00 - 19h00</p>
                      <p>Dimanche - Fermé</p>
                    </div>
                  </div>
                </div>
                <div class="col-lg-12 col-md-6 m-b30">
                  <div class="icon-bx-wraper bx-style-1 p-a20 radius-sm">
                    <div class="icon-content">
                      <h5 class="dlab-tilte">
                        <span class="icon-sm text-primary"><i class="ti-email"></i></span> E-mail
                      </h5>
                      <p class="m-b0">{{ email1 }}</p>

                    </div>
                  </div>
                </div>
                <div class="col-lg-12 col-md-6 m-b30">
                  <div class="icon-bx-wraper bx-style-1 p-a20 radius-sm">
                    <div class="icon-content">
                      <h5 class="dlab-tilte">
                        <span class="icon-sm text-primary"><i class="ti-mobile"></i></span> Téléphone
                      </h5>
                      <p class="m-b0">+216 12 345 678</p>
                      <p class="m-b0">+216 98 765 432</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Formulaire de réclamation -->
<div class="col-lg-8 col-md-12 m-b30">
    <form class="inquiry-form wow box-shadow bg-white fadeInUp" (ngSubmit)="onSubmit()" [formGroup]="reclamationForm">
      <h3 class="title-box font-weight-300 m-t0 m-b10">Déposer une réclamation <span class="bg-primary"></span></h3>
      <p>Si vous avez un problème ou une suggestion, n'hésitez pas à nous en informer.</p>

      <div class="row">
        <!-- Titre -->
        <div class="col-lg-12 col-md-12">
          <div class="form-group">
            <div class="input-group">
              <span class="input-group-addon"><i class="ti-file text-primary"></i></span>
              <input formControlName="titre" type="text" class="form-control" placeholder="Titre de la réclamation">
            </div>
            <div *ngIf="f['titre'].touched && f['titre'].errors" class="text-danger">
              <div *ngIf="f['titre'].errors['required']">Le titre est requis.</div>
              <div *ngIf="f['titre'].errors['minlength']">Le titre doit contenir au moins 5 caractères.</div>
              <div *ngIf="f['titre'].errors['maxlength']">Le titre ne doit pas dépasser 100 caractères.</div>
            </div>
          </div>
        </div>

        <!-- Description -->
        <div class="col-lg-12 col-md-12">
          <div class="form-group">
            <div class="input-group">
              <span class="input-group-addon"><i class="ti-agenda text-primary"></i></span>
              <textarea formControlName="description" rows="4" class="form-control" placeholder="Description"></textarea>
            </div>
            <div *ngIf="f['description'].touched && f['description'].errors" class="text-danger">
              <div *ngIf="f['description'].errors['required']">La description est requise.</div>
              <div *ngIf="f['description'].errors['minlength']">La description doit contenir au moins 20 caractères.</div>
              <div *ngIf="f['description'].errors['maxlength']">La description ne doit pas dépasser 1000 caractères.</div>
            </div>
          </div>
        </div>

        <!-- Type de réclamation -->
        <div class="col-lg-12 col-md-12">
          <div class="form-group">
            <div class="input-group">
              <span class="input-group-addon"><i class="ti-check-box text-primary"></i></span>
              <select formControlName="type" class="form-control">
                <option value="">Sélectionnez le type</option>
                <option value="Technique">Technique</option>
                <option value="Administratif">Administratif</option>
                <option value="Autre">Autre</option>
              </select>
            </div>
            <div *ngIf="f['type'].touched && f['type'].errors" class="text-danger">
              <div *ngIf="f['type'].errors['required']">Le type est requis.</div>
              <div *ngIf="f['type'].errors['pattern']">Veuillez sélectionner un type valide.</div>
            </div>
          </div>
        </div>


        <div class="voice-controls">
            <button type="button"
                    class="recording-btn"
                    (click)="toggleRecording()"
                    [class.recording]="isRecording"
                    [disabled]="isRecording">
              <i class="material-icons">{{ isRecording ? 'mic_off' : 'keyboard_voice' }}</i>
              {{ isRecording ? 'Arrêter l\'enregistrement' : 'Enregistrement vocal' }}
            </button>

            <div *ngIf="isRecording" class="recording-feedback">
              <div class="pulse-ring"></div>
              <span class="status-text">En écoute active...</span>
            </div>
          </div>

          <div *ngIf="message" class="transcription-message">
            <i class="material-icons" style="vertical-align: middle;">info</i>
            {{ message }}
          </div>
        <!-- Bouton d'envoi -->
        <div class="col-lg-12 col-md-12">
          <button type="submit" class="site-button button-md" [disabled]="reclamationForm.invalid">
            <span>Envoyer</span>
          </button>
        </div>

        <!-- Message de succès ou d'erreur -->
        <div *ngIf="message" class="col-lg-12 col-md-12 mt-3">
          <div class="alert" [ngClass]="{
            'alert-success': message.includes('succès'),
            'alert-danger': message.includes('Erreur')
          }">{{ message }}</div>
        </div>
      </div>
    </form>
  </div>
          </div>
        </div>
      </div>
      <!-- Contact Form END -->
    </div>
    <!-- Content END-->

    <!-- Footer -->
    <app-footer13></app-footer13>
    <!-- Footer End -->

    <!-- Bouton de retour en haut -->
    <button class="scroltop fa fa-chevron-up" (click)="scroll_top()"></button>

    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0&family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" rel="stylesheet" />
  </div>
