<div class="page-wraper">
  <!-- header -->
  <app-header-light3></app-header-light3>
  <!-- header END -->
  <!-- Content -->
  <div class="page-content bg-white">
    <!-- inner page banner -->
    <app-banner1 [data]="banner"></app-banner1>
    <!-- inner page banner END -->
    <!-- contact area -->
    <div class="container my-4">
      <div class="row justify-content-between align-items-center">
        <!-- Search Box -->
        <div class="col-lg-6">
          <div class="search-box">
            <input
              type="text"
              class="form-control search-input"
              placeholder="Search by name or category..."
              [(ngModel)]="searchText"
              (input)="filterMaterials()"
            />
            <i class="fa fa-search search-icon"></i>
          </div>
        </div>

        <!-- Sort Dropdown -->
        <div class="col-lg-6 text-lg-right">
          <label for="sort" class="sort-label">Sort by:</label>
          <div class="custom-dropdown">
            <select id="sort" class="form-control custom-select" [(ngModel)]="sortBy" (change)="sortMaterials()">
              <option value="none">None</option>
              <option value="priceLowToHigh">â¬‡ Price: Low to High</option>
              <option value="priceHighToLow">â¬† Price: High to Low</option>
              <option value="nameAsc">ðŸ”  Name: A to Z</option>
              <option value="nameDesc">ðŸ”  Name: Z to A</option>
              <option value="status">ðŸ“Œ Status</option>
            </select>
            <span class="custom-arrow">â–¼</span>
          </div>
        </div>
      </div>
    </div>
    <div class="section-full content-inner">

      <!-- Product -->
      <div class="container">
        <div class="row">
          
          <div class="col-lg-3 col-md-4 col-sm-6" *ngFor="let item of filteredMaterials; trackBy: trackById">
            <div class="item-box m-b10">
              <div class="item-img">
                <img src="{{item.image.url}}" alt="" />
                <div class="item-info-in">
									<ul>
										<li><a href="javascript:void(0);" (click)="addToCart(item); $event.preventDefault();"><i class="ti-shopping-cart"></i></a></li>
										<li><a href="javascript:void(0);"(click)="viewMaterialDetail(item); $event.preventDefault();"><i class="ti-eye"></i></a></li>
										<li><a href="javascript:void(0);" (click)="toggleWishlist(item); $event.preventDefault();"><i class="fa-solid fa-heart" [ngClass]="{ 'text-danger': isInWishlist(item.id), 'text-secondary': !isInWishlist(item.id) }"></i>

                            </a></li>
									</ul>
								</div>
              </div>
              <div class="item-info text-center text-black p-a10">
                <h6 class="item-title font-weight-500">
                  <a [routerLink]="['/shop-product-details']">{{ item.name }}</a>
                </h6>
                <h6 class="item-category">
                  <span class="text-muted">Category: {{ item.categoryName|| 'Unknown' }}</span>
                </h6>
                <h6 class="item-status">
                  <span [ngClass]="{
                    'text-success': item.status === 'DISPONIBLE',
                    'text-warning': item.status === 'A_LOUER',
                    'text-danger': item.status === 'NON_DISPONIBLE'
                  }">
                    Status: {{ item.status|| 'Unknown' }}
                  </span>
                </h6>
               
                <h4 class="item-price">
                  <span class="text-primary pl-2">{{ item.price | currency  }}</span>
                </h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Product END -->
    </div>
    <!-- Shop Service info -->
    <app-icon-box3></app-icon-box3>
    <!-- Shop Service info End -->
  </div>
  <!-- Content End -->
  <!-- Footer -->
  <app-footer19></app-footer19>
  <!-- Footer END-->
 <button class="scroltop fa fa-chevron-up" (click)="scroll_top()"></button>
</div>
